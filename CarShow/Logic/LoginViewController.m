
#import "LoginViewController.h"
#import "SurveyViewController.h"
#import "AdminViewController.h"
#import "AppManager.h"

typedef enum {
    
    PICKER_TYPE_NAME,
    PICKER_TYPE_CITY,
    
} PICKER_TYPE;


@interface LoginViewController () <UITextFieldDelegate, UIPickerViewDelegate, UIPickerViewDataSource>


@end

@implementation LoginViewController
{
    NSArray *activityNameArray;
    NSArray *cityNameArray;
    NSArray *userNameArray;
}

@synthesize pickerBG;
@synthesize activityPicker;
@synthesize cityPicker;

@synthesize activityTxt;
@synthesize nameTxt;
@synthesize pswdTxt;
@synthesize cityTxt;

- (void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];
    
    if ([[AppManager instance] loadUser]) {
        
        nameTxt.text = [AppManager instance].qpg;
        pswdTxt.text = [AppManager instance].userNickName;
        cityTxt.text = [AppManager instance].qcity;
        activityTxt.text = [AppManager instance].qeventname;
    } else {
        
        activityTxt.text = activityNameArray[0];
    }
}

- (void)viewDidLoad {
    
    [super viewDidLoad];
    
    [self loadResource];
    
    pickerBG.hidden = YES;
    activityPicker.hidden = YES;
    cityPicker.hidden = YES;
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

#pragma mark - UIPickerViewDelegate method
// The number of columns of data
- (NSInteger)numberOfComponentsInPickerView:(UIPickerView *)pickerView
{
    return 1;
}

// The number of rows of data
- (NSInteger)pickerView:(UIPickerView *)pickerView numberOfRowsInComponent:(NSInteger)component
{
    NSInteger dataNum = 0;
    if (pickerView == activityPicker) {
        dataNum = [activityNameArray count];
    } else {
        dataNum = [cityNameArray count];
    }
    
    return dataNum;
}

// The data to return for the row and component (column) that's being passed in
- (NSString *)pickerView:(UIPickerView *)pickerView titleForRow:(NSInteger)row forComponent:(NSInteger)component
{
    if (pickerView == activityPicker) {
        
        return activityNameArray[row];
    } else {
        
        return cityNameArray[row];
    }
    
    return nil;
}

- (void)pickerView:(UIPickerView *)pickerView didSelectRow:(NSInteger)row inComponent:(NSInteger)component
{
    if (pickerView == activityPicker) {
        
        activityTxt.text = activityNameArray[row];
    } else if (pickerView == cityPicker) {
        
        cityTxt.text = cityNameArray[row];
    }
}

#pragma mark - UITextFieldDelegate method
- (BOOL)textFieldShouldBeginEditing:(UITextField *)textField
{
    if ( textField == activityTxt ) {
        
        [self resetUI];
        pickerBG.hidden = NO;
        activityPicker.hidden = NO;
//        [textField resignFirstResponder];
        
        return NO;
    }
    
    if ( textField == cityTxt ) {
        
        [self resetUI];
        pickerBG.hidden = NO;
        cityPicker.hidden = NO;
//        [textField resignFirstResponder];
        
        return NO;
    }
    
    return YES;
}

- (void)textFieldDidBeginEditing:(UITextField *)textField
{
    
}

- (BOOL)textFieldShouldEndEditing:(UITextField *)textField
{
    return YES;
}

- (void)textFieldDidEndEditing:(UITextField *)textField
{
}

#pragma mark - load resources
- (void)loadResource
{
    
    // 项目部分
#if CarShowType == 20
    // 区域车展
    [self loadAutoShowResource];
    
#elif CarShowType == 21
    // 上海车展
    [self loadSHCarShowResource];
    
#elif CarShowType == 22
    // A级车展
    [self loadACarShowResource];
    
#endif
    
}

- (void)loadAutoShowResource
{
    activityNameArray = @[@"区域车展"];
    cityNameArray = @[@"安庆",
                      @"包头",
                      @"宝鸡",
                      @"保定",
                      @"滨州",
                      @"沧州",
                      @"常德",
                      @"常州",
                      @"郴州",
                      @"滁州",
                      @"大理",
                      @"大连",
                      @"大庆",
                      @"德阳",
                      @"德州",
                      @"东莞",
                      @"东阳",
                      @"东营",
                      @"佛山",
                      @"福州",
                      @"阜阳",
                      @"赣州",
                      @"广州",
                      @"贵阳",
                      @"桂林",
                      @"哈尔滨",
                      @"海口",
                      @"汉中",
                      @"杭州",
                      @"合肥",
                      @"菏泽",
                      @"呼和浩特",
                      @"湖州",
                      @"怀化",
                      @"淮安",
                      @"惠州",
                      @"吉安",
                      @"济南",
                      @"济宁",
                      @"佳木斯",
                      @"嘉兴",
                      @"金华",
                      @"锦州",
                      @"九江",
                      @"柯桥",
                      @"昆明",
                      @"昆山",
                      @"莱州",
                      @"兰州",
                      @"廊坊",
                      @"丽水",
                      @"溧阳",
                      @"连云港",
                      @"聊城",
                      @"临沂",
                      @"柳州",
                      @"六安",
                      @"龙岩",
                      @"洛阳",
                      @"马鞍山",
                      @"绵阳",
                      @"南昌",
                      @"南京",
                      @"南宁",
                      @"南通",
                      @"南阳",
                      @"宁波",
                      @"盘锦",
                      @"平顶山",
                      @"濮阳",
                      @"齐齐哈尔",
                      @"秦皇岛",
                      @"青岛",
                      @"青州",
                      @"衢州",
                      @"泉州",
                      @"如皋",
                      @"三门峡",
                      @"厦门",
                      @"商丘",
                      @"上虞",
                      @"绍兴",
                      @"深圳",
                      @"嵊州",
                      @"石家庄",
                      @"寿光",
                      @"苏州",
                      @"台州",
                      @"太原",
                      @"泰州",
                      @"唐山",
                      @"天津",
                      @"威海",
                      @"潍坊",
                      @"温州",
                      @"乌鲁木齐",
                      @"无锡",
                      @"芜湖",
                      @"武汉",
                      @"西安",
                      @"西宁",
                      @"襄阳",
                      @"萧山",
                      @"孝感",
                      @"新乡",
                      @"新余",
                      @"信阳",
                      @"宿迁",
                      @"徐州",
                      @"烟台",
                      @"盐城",
                      @"扬州",
                      @"宜昌",
                      @"宜兴",
                      @"义乌",
                      @"银川",
                      @"永康",
                      @"余姚",
                      @"玉溪",
                      @"岳阳",
                      @"张家港",
                      @"漳州",
                      @"长春",
                      @"长沙",
                      @"长治",
                      @"镇江",
                      @"郑州",
                      @"中山",
                      @"重庆",
                      @"珠海",
                      @"诸暨",
                      @"其他"];
    
    userNameArray = @[@"A02033",
                      @"A02155",
                      @"A02161",
                      @"A02113",
                      @"A02157",
                      @"A02133",
                      @"A02156",
                      @"A02174",
                      @"A02175",
                      @"A02160",
                      @"A02159",
                      @"A18895",
                      @"A36261",
                      @"A02179",
                      @"A02182",
                      @"A02173",
                      @"A02181",
                      @"A02183",
                      @"A02185",
                      @"A02177",
                      @"A02184",
                      @"A03876",
                      @"A02916",
                      @"A04103",
                      @"A03998",
                      @"A02073",
                      @"A03873",
                      @"A04105",
                      @"A04515",
                      @"A05832",
                      @"A35457",
                      @"A04532",
                      @"A04597",
                      @"A04592",
                      @"A05893",
                      @"A03875",
                      @"A02178",
                      @"A04572",
                      @"A03884",
                      @"A04513",
                      @"A03874",
                      @"A05055",
                      @"A04613",
                      @"A14795",
                      @"A05012",
                      @"A04533",
                      @"A05794",
                      @"A03898",
                      @"A04512",
                      @"A05733",
                      @"A05033",
                      @"A05052",
                      @"A05732",
                      @"A04119",
                      @"A06172",
                      @"A05833",
                      @"A04514",
                      @"A07153",
                      @"A07155",
                      @"A05712",
                      @"A07154",
                      @"A04173",
                      @"A06134",
                      @"A07139",
                      @"A06372",
                      @"A07136",
                      @"A07134",
                      @"A03890",
                      @"A07173",
                      @"A05772",
                      @"A07138",
                      @"A07132",
                      @"A05032",
                      @"A05792",
                      @"A05072",
                      @"A04595",
                      @"A06155",
                      @"A05892",
                      @"A07095",
                      @"A06252",
                      @"A04594",
                      @"A07195",
                      @"A07096",
                      @"A22475",
                      @"A06156",
                      @"A07232",
                      @"A07193",
                      @"A05412",
                      @"A07174",
                      @"A07196",
                      @"A06152",
                      @"A08192",
                      @"A05053",
                      @"A05793",
                      @"A10085",
                      @"A07592",
                      @"A06153",
                      @"A07097",
                      @"A08272",
                      @"A07612",
                      @"A07192",
                      @"A08412",
                      @"A04172",
                      @"A07453",
                      @"A05796",
                      @"A07664",
                      @"A08752",
                      @"A08776",
                      @"A08952",
                      @"A07452",
                      @"A08774",
                      @"A07272",
                      @"A09293",
                      @"A08212",
                      @"A08572",
                      @"A05753",
                      @"A08773",
                      @"A08775",
                      @"A05633",
                      @"A09272",
                      @"A09353",
                      @"A07135",
                      @"A08772",
                      @"A36262",
                      @"A08292",
                      @"A08712",
                      @"A08953",
                      @"A17215",
                      @"A08792",
                      @"A10155",
                      @"A09594",
                      @"A10935",
                      @"A06253",
                      @"A17175",
                      @"A09675",
                      @"A09656",
                      @"A14655",
                      @"A09294",
                      @"A10895",
                      @"A08732",
                      @"A07613",
                      @"A09295",
                      @"A10955",
                      @"A07252",
                      @"A24456",
                      @"A09592",
                      @"A10075",
                      @"A10557",
                      @"A09655",
                      @"A09112",
                      @"A11255",
                      @"A10355",
                      @"A09498",
                      @"A10635",
                      @"A11075",
                      @"A10896",
                      @"A07194",
                      @"A10976",
                      @"A11395",
                      @"A09936",
                      @"A12075",
                      @"A12275",
                      @"A11256",
                      @"A07472",
                      @"A26136",
                      @"A11035",
                      @"A12076",
                      @"A12035",
                      @"A24255",
                      @"A09935",
                      @"A08733",
                      @"A10916",
                      @"A11535",
                      @"A36263",
                      @"A12817",
                      @"A11315",
                      @"A12395",
                      @"A13675",
                      @"A12935",
                      @"A13561",
                      @"A11055",
                      @"A10675",
                      @"A13695",
                      @"A14416",
                      @"A14697",
                      @"A14635",
                      @"A14415",
                      @"A14395",
                      @"A14495",
                      @"A14396",
                      @"A14235",
                      @"A13238",
                      @"A15075",
                      @"A12077",
                      @"A15397",
                      @"A14456",
                      @"A13779",
                      @"A14555",
                      @"A16217",
                      @"A14862",
                      @"A16815",
                      @"A14858",
                      @"A16775",
                      @"A16635",
                      @"A14515",
                      @"A13716",
                      @"A15777",
                      @"A15275",
                      @"A14457",
                      @"A15836",
                      @"A17115",
                      @"A34986",
                      @"A16935",
                      @"A16655",
                      @"A16355",
                      @"A16936",
                      @"A13676",
                      @"A17156",
                      @"A17916",
                      @"A18376",
                      @"A17915",
                      @"A16495",
                      @"A17835",
                      @"A18175",
                      @"A17975",
                      @"A16196",
                      @"A17157",
                      @"A18735",
                      @"A16995",
                      @"A15375",
                      @"A20015",
                      @"A17155",
                      @"A20239",
                      @"A18015",
                      @"A17158",
                      @"A16195",
                      @"A21118",
                      @"A18995",
                      @"A18795",
                      @"A23755",
                      @"A18856",
                      @"A20240",
                      @"A21536",
                      @"A36762",
                      @"A15895",
                      @"A12455",
                      @"A19495",
                      @"A20515",
                      @"A20175",
                      @"A19777",
                      @"A19780",
                      @"A22875",
                      @"A20375",
                      @"A23035",
                      @"A21575",
                      @"A20195",
                      @"A20295",
                      @"A19778",
                      @"A16975",
                      @"A21115",
                      @"A24155",
                      @"A32860",
                      @"A20297",
                      @"A19678",
                      @"A20236",
                      @"A20655",
                      @"A23595",
                      @"A23457",
                      @"A20855",
                      @"A20535",
                      @"A24075",
                      @"A20235",
                      @"A19677",
                      @"A23038",
                      @"A20196",
                      @"A20176",
                      @"A23217",
                      @"A17935",
                      @"A23295",
                      @"A23075",
                      @"A20255",
                      @"A17775",
                      @"A17955",
                      @"A18655",
                      @"A20055",
                      @"A23456",
                      @"A23219",
                      @"A20597",
                      @"A20636",
                      @"A23076",
                      @"A21117",
                      @"A20378",
                      @"A24437",
                      @"A22935",
                      @"A22675",
                      @"A21375",
                      @"A20595",
                      @"A19215",
                      @"A33439",
                      @"A18235",
                      @"A20215",
                      @"A20238",
                      @"A19779",
                      @"A20256",
                      @"A20237",
                      @"A20756",
                      @"A19695",
                      @"A20857",
                      @"A23855",
                      @"A17076",
                      @"A21695",
                      @"A20596",
                      @"A22196",
                      @"A22055",
                      @"A22195",
                      @"A18595",
                      @"A23615",
                      @"A23316",
                      @"A20835",
                      @"A20516",
                      @"A23735",
                      @"A21537",
                      @"A23775",
                      @"A21379",
                      @"A21538",
                      @"A32899",
                      @"A21378",
                      @"A23455",
                      @"A21377",
                      @"A21135",
                      @"A20296",
                      @"A21155",
                      @"A20856",
                      @"A23215",
                      @"A20396",
                      @"A25916",
                      @"A22197",
                      @"A20275",
                      @"A24755",
                      @"A23695",
                      @"A22075",
                      @"A25495",
                      @"A21376",
                      @"A27115",
                      @"A26396",
                      @"A19675",
                      @"A27855",
                      @"A24436",
                      @"A26117",
                      @"A25636",
                      @"A25555",
                      @"A26435",
                      @"A26475",
                      @"A23696",
                      @"A26135",
                      @"A24799",
                      @"A26515",
                      @"A25695",
                      @"A27335",
                      @"A25915",
                      @"A24455",
                      @"A26335",
                      @"A19135",
                      @"A25879",
                      @"A26116",
                      @"A25877",
                      @"A26395",
                      @"A22895",
                      @"A32779",
                      @"A26195",
                      @"A22415",
                      @"A24517",
                      @"A25896",
                      @"A26436",
                      @"A25095",
                      @"A25798",
                      @"A21535",
                      @"A26516",
                      @"A19676",
                      @"A32417",
                      @"A24795",
                      @"A25835",
                      @"A23335",
                      @"A27615",
                      @"A26517",
                      @"A25657",
                      @"A26635",
                      @"A26075",
                      @"A27817",
                      @"A23475",
                      @"A28636",
                      @"A24435",
                      @"A26315",
                      @"A28315",
                      @"A25876",
                      @"A20377",
                      @"A28035",
                      @"A27816",
                      @"A24275",
                      @"A08992",
                      @"A28635",
                      @"A25656",
                      @"A25800",
                      @"A27197",
                      @"A27655",
                      @"A28516",
                      @"A26219",
                      @"A27315",
                      @"A24875",
                      @"A25796",
                      @"A27635",
                      @"A29636",
                      @"A29715",
                      @"A28135",
                      @"A29315",
                      @"A27755",
                      @"A30877",
                      @"A30296",
                      @"A30675",
                      @"A26835",
                      @"A30295",
                      @"A21136",
                      @"A29955",
                      @"A30975",
                      @"A28735",
                      @"A30437",
                      @"A32780",
                      @"A20298",
                      @"A30955",
                      @"A30935",
                      @"A24784",
                      @"A30595",
                      @"A30375",
                      @"A26375",
                      @"A30335",
                      @"A25615",
                      @"A29575",
                      @"A31816",
                      @"A32441",
                      @"A30556",
                      @"A26115",
                      @"A30615",
                      @"A30881",
                      @"A18575",
                      @"A27995",
                      @"A25635",
                      @"A32648",
                      @"A31818",
                      @"A32416",
                      @"A32540",
                      @"A22496",
                      @"A32559",
                      @"A26235",
                      @"A29297",
                      @"A31158",
                      @"A19055",
                      @"A30435",
                      @"A32415",
                      @"A29635",
                      @"A32760",
                      @"A36981",
                      @"A30436",
                      @"A33059",
                      @"A25735",
                      @"A30455",
                      @"A32541",
                      @"A33481",
                      @"A28855",
                      @"A25795",
                      @"A33079",
                      @"A31215",
                      @"A32701",
                      @"A31255",
                      @"A25878",
                      @"A33383",
                      @"A28815",
                      @"A33821",
                      @"A32805",
                      @"A33763",
                      @"A33591",
                      @"A33584",
                      @"A33482",
                      @"A33559",
                      @"A33420",
                      @"A32879",
                      @"A28335",
                      @"A33419",
                      @"A33340",
                      @"A32654",
                      @"A33561",
                      @"A33803",
                      @"A32759",
                      @"A33699",
                      @"A34080",
                      @"A31155",
                      @"A34151",
                      @"A30878",
                      @"A33660",
                      @"A33586",
                      @"A33819",
                      @"A33764",
                      @"A33519",
                      @"A33948",
                      @"A33762",
                      @"A33805",
                      @"A33583",
                      @"A33022",
                      @"A30336",
                      @"A33719",
                      @"A33720",
                      @"A34083",
                      @"A34150",
                      @"A33721",
                      @"A34204",
                      @"A34086",
                      @"A33949",
                      @"A33661",
                      @"A32841",
                      @"A33861",
                      @"A34087",
                      @"A34085",
                      @"A33922",
                      @"A34542",
                      @"A34599",
                      @"A34145",
                      @"A34146",
                      @"A34300",
                      @"A34279",
                      @"A33761",
                      @"A34600",
                      @"A20755",
                      @"A33579",
                      @"A34199",
                      @"A33585",
                      @"A33722",
                      @"A33945",
                      @"A33740",
                      @"A33560",
                      @"A33804",
                      @"A34147",
                      @"A33479",
                      @"A34805",
                      @"A33824",
                      @"A33593",
                      @"A33879",
                      @"A34202",
                      @"A33500",
                      @"A33823",
                      @"A34082",
                      @"A34081",
                      @"A33700",
                      @"A33581",
                      @"A33379",
                      @"A33759",
                      @"A32699",
                      @"A33643",
                      @"A31159",
                      @"A35682",
                      @"A33592",
                      @"A33822",
                      @"A34379",
                      @"A33946",
                      @"A33642",
                      @"A33919",
                      @"A33860",
                      @"A34200",
                      @"A34882",
                      @"A33480",
                      @"A34205",
                      @"A30555",
                      @"A34763",
                      @"A34084",
                      @"A33799",
                      @"A34887",
                      @"A33483",
                      @"A34804",
                      @"A34439",
                      @"A34761",
                      @"A34828",
                      @"A32440",
                      @"A33950",
                      @"A34764",
                      @"A35202",
                      @"A34866",
                      @"A34865",
                      @"A33582",
                      @"A34301",
                      @"A35458",
                      @"A35324",
                      @"A33382",
                      @"A34559",
                      @"A35204",
                      @"A33947",
                      @"A33562",
                      @"A34721",
                      @"A34881",
                      @"A35325",
                      @"A34928",
                      @"A33499",
                      @"A34863",
                      @"A35428",
                      @"A35384",
                      @"A35426",
                      @"A35425",
                      @"A35201",
                      @"A34765",
                      @"A35524",
                      @"A35042",
                      @"A33800",
                      @"A35543",
                      @"A35803",
                      @"A35582",
                      @"A35804",
                      @"A35722",
                      @"A35641",
                      @"A35041",
                      @"A35848",
                      @"A35542",
                      @"A35701",
                      @"A36066",
                      @"A33880",
                      @"A35846",
                      @"A35541",
                      @"A36063",
                      @"A35681",
                      @"A35427",
                      @"A35802",
                      @"A34985",
                      @"A33806",
                      @"A35849",
                      @"A35603",
                      @"A34148",
                      @"A35203",
                      @"A20376",
                      @"A35429",
                      @"A35521"];
    
}

- (void)loadACarShowResource
{
    activityNameArray = @[@"A级车展"];
    cityNameArray = @[@"深圳",
                      @"重庆",
                      @"成都",
                      @"沈阳",
                      @"青岛",
                      @"昆明",
                      @"长春",
                      @"南京",
                      @"西安",
                      @"杭州",
                      @"郑州",
                      @"其他"];
    
    userNameArray = @[@"A02033",
                      @"A02155",
                      @"A02161",
                      @"A02113",
                      @"A02157",
                      @"A02133",
                      @"A02156",
                      @"A02174",
                      @"A02175",
                      @"A02160",
                      @"A02159",
                      @"A18895",
                      @"A36261",
                      @"A02179",
                      @"A02182",
                      @"A02173",
                      @"A02181",
                      @"A02183",
                      @"A02185",
                      @"A02177",
                      @"A02184",
                      @"A03876",
                      @"A02916",
                      @"A04103",
                      @"A03998",
                      @"A02073",
                      @"A03873",
                      @"A04105",
                      @"A04515",
                      @"A05832",
                      @"A35457",
                      @"A04532",
                      @"A04597",
                      @"A04592",
                      @"A05893",
                      @"A03875",
                      @"A02178",
                      @"A04572",
                      @"A03884",
                      @"A04513",
                      @"A03874",
                      @"A05055",
                      @"A04613",
                      @"A14795",
                      @"A05012",
                      @"A04533",
                      @"A05794",
                      @"A03898",
                      @"A04512",
                      @"A05733",
                      @"A05033",
                      @"A05052",
                      @"A05732",
                      @"A04119",
                      @"A06172",
                      @"A05833",
                      @"A04514",
                      @"A07153",
                      @"A07155",
                      @"A05712",
                      @"A07154",
                      @"A04173",
                      @"A06134",
                      @"A07139",
                      @"A06372",
                      @"A07136",
                      @"A07134",
                      @"A03890",
                      @"A07173",
                      @"A05772",
                      @"A07138",
                      @"A07132",
                      @"A05032",
                      @"A05792",
                      @"A05072",
                      @"A04595",
                      @"A06155",
                      @"A05892",
                      @"A07095",
                      @"A06252",
                      @"A04594",
                      @"A07195",
                      @"A07096",
                      @"A22475",
                      @"A06156",
                      @"A07232",
                      @"A07193",
                      @"A05412",
                      @"A07174",
                      @"A07196",
                      @"A06152",
                      @"A08192",
                      @"A05053",
                      @"A05793",
                      @"A10085",
                      @"A07592",
                      @"A06153",
                      @"A07097",
                      @"A08272",
                      @"A07612",
                      @"A07192",
                      @"A08412",
                      @"A04172",
                      @"A07453",
                      @"A05796",
                      @"A07664",
                      @"A08752",
                      @"A08776",
                      @"A08952",
                      @"A07452",
                      @"A08774",
                      @"A07272",
                      @"A09293",
                      @"A08212",
                      @"A08572",
                      @"A05753",
                      @"A08773",
                      @"A08775",
                      @"A05633",
                      @"A09272",
                      @"A09353",
                      @"A07135",
                      @"A08772",
                      @"A36262",
                      @"A08292",
                      @"A08712",
                      @"A08953",
                      @"A17215",
                      @"A08792",
                      @"A10155",
                      @"A09594",
                      @"A10935",
                      @"A06253",
                      @"A17175",
                      @"A09675",
                      @"A09656",
                      @"A14655",
                      @"A09294",
                      @"A10895",
                      @"A08732",
                      @"A07613",
                      @"A09295",
                      @"A10955",
                      @"A07252",
                      @"A24456",
                      @"A09592",
                      @"A10075",
                      @"A10557",
                      @"A09655",
                      @"A09112",
                      @"A11255",
                      @"A10355",
                      @"A09498",
                      @"A10635",
                      @"A11075",
                      @"A10896",
                      @"A07194",
                      @"A10976",
                      @"A11395",
                      @"A09936",
                      @"A12075",
                      @"A12275",
                      @"A11256",
                      @"A07472",
                      @"A26136",
                      @"A11035",
                      @"A12076",
                      @"A12035",
                      @"A24255",
                      @"A09935",
                      @"A08733",
                      @"A10916",
                      @"A11535",
                      @"A36263",
                      @"A12817",
                      @"A11315",
                      @"A12395",
                      @"A13675",
                      @"A12935",
                      @"A13561",
                      @"A11055",
                      @"A10675",
                      @"A13695",
                      @"A14416",
                      @"A14697",
                      @"A14635",
                      @"A14415",
                      @"A14395",
                      @"A14495",
                      @"A14396",
                      @"A14235",
                      @"A13238",
                      @"A15075",
                      @"A12077",
                      @"A15397",
                      @"A14456",
                      @"A13779",
                      @"A14555",
                      @"A16217",
                      @"A14862",
                      @"A16815",
                      @"A14858",
                      @"A16775",
                      @"A16635",
                      @"A14515",
                      @"A13716",
                      @"A15777",
                      @"A15275",
                      @"A14457",
                      @"A15836",
                      @"A17115",
                      @"A34986",
                      @"A16935",
                      @"A16655",
                      @"A16355",
                      @"A16936",
                      @"A13676",
                      @"A17156",
                      @"A17916",
                      @"A18376",
                      @"A17915",
                      @"A16495",
                      @"A17835",
                      @"A18175",
                      @"A17975",
                      @"A16196",
                      @"A17157",
                      @"A18735",
                      @"A16995",
                      @"A15375",
                      @"A20015",
                      @"A17155",
                      @"A20239",
                      @"A18015",
                      @"A17158",
                      @"A16195",
                      @"A21118",
                      @"A18995",
                      @"A18795",
                      @"A23755",
                      @"A18856",
                      @"A20240",
                      @"A21536",
                      @"A36762",
                      @"A15895",
                      @"A12455",
                      @"A19495",
                      @"A20515",
                      @"A20175",
                      @"A19777",
                      @"A19780",
                      @"A22875",
                      @"A20375",
                      @"A23035",
                      @"A21575",
                      @"A20195",
                      @"A20295",
                      @"A19778",
                      @"A16975",
                      @"A21115",
                      @"A24155",
                      @"A32860",
                      @"A20297",
                      @"A19678",
                      @"A20236",
                      @"A20655",
                      @"A23595",
                      @"A23457",
                      @"A20855",
                      @"A20535",
                      @"A24075",
                      @"A20235",
                      @"A19677",
                      @"A23038",
                      @"A20196",
                      @"A20176",
                      @"A23217",
                      @"A17935",
                      @"A23295",
                      @"A23075",
                      @"A20255",
                      @"A17775",
                      @"A17955",
                      @"A18655",
                      @"A20055",
                      @"A23456",
                      @"A23219",
                      @"A20597",
                      @"A20636",
                      @"A23076",
                      @"A21117",
                      @"A20378",
                      @"A24437",
                      @"A22935",
                      @"A22675",
                      @"A21375",
                      @"A20595",
                      @"A19215",
                      @"A33439",
                      @"A18235",
                      @"A20215",
                      @"A20238",
                      @"A19779",
                      @"A20256",
                      @"A20237",
                      @"A20756",
                      @"A19695",
                      @"A20857",
                      @"A23855",
                      @"A17076",
                      @"A21695",
                      @"A20596",
                      @"A22196",
                      @"A22055",
                      @"A22195",
                      @"A18595",
                      @"A23615",
                      @"A23316",
                      @"A20835",
                      @"A20516",
                      @"A23735",
                      @"A21537",
                      @"A23775",
                      @"A21379",
                      @"A21538",
                      @"A32899",
                      @"A21378",
                      @"A23455",
                      @"A21377",
                      @"A21135",
                      @"A20296",
                      @"A21155",
                      @"A20856",
                      @"A23215",
                      @"A20396",
                      @"A25916",
                      @"A22197",
                      @"A20275",
                      @"A24755",
                      @"A23695",
                      @"A22075",
                      @"A25495",
                      @"A21376",
                      @"A27115",
                      @"A26396",
                      @"A19675",
                      @"A27855",
                      @"A24436",
                      @"A26117",
                      @"A25636",
                      @"A25555",
                      @"A26435",
                      @"A26475",
                      @"A23696",
                      @"A26135",
                      @"A24799",
                      @"A26515",
                      @"A25695",
                      @"A27335",
                      @"A25915",
                      @"A24455",
                      @"A26335",
                      @"A19135",
                      @"A25879",
                      @"A26116",
                      @"A25877",
                      @"A26395",
                      @"A22895",
                      @"A32779",
                      @"A26195",
                      @"A22415",
                      @"A24517",
                      @"A25896",
                      @"A26436",
                      @"A25095",
                      @"A25798",
                      @"A21535",
                      @"A26516",
                      @"A19676",
                      @"A32417",
                      @"A24795",
                      @"A25835",
                      @"A23335",
                      @"A27615",
                      @"A26517",
                      @"A25657",
                      @"A26635",
                      @"A26075",
                      @"A27817",
                      @"A23475",
                      @"A28636",
                      @"A24435",
                      @"A26315",
                      @"A28315",
                      @"A25876",
                      @"A20377",
                      @"A28035",
                      @"A27816",
                      @"A24275",
                      @"A08992",
                      @"A28635",
                      @"A25656",
                      @"A25800",
                      @"A27197",
                      @"A27655",
                      @"A28516",
                      @"A26219",
                      @"A27315",
                      @"A24875",
                      @"A25796",
                      @"A27635",
                      @"A29636",
                      @"A29715",
                      @"A28135",
                      @"A29315",
                      @"A27755",
                      @"A30877",
                      @"A30296",
                      @"A30675",
                      @"A26835",
                      @"A30295",
                      @"A21136",
                      @"A29955",
                      @"A30975",
                      @"A28735",
                      @"A30437",
                      @"A32780",
                      @"A20298",
                      @"A30955",
                      @"A30935",
                      @"A24784",
                      @"A30595",
                      @"A30375",
                      @"A26375",
                      @"A30335",
                      @"A25615",
                      @"A29575",
                      @"A31816",
                      @"A32441",
                      @"A30556",
                      @"A26115",
                      @"A30615",
                      @"A30881",
                      @"A18575",
                      @"A27995",
                      @"A25635",
                      @"A32648",
                      @"A31818",
                      @"A32416",
                      @"A32540",
                      @"A22496",
                      @"A32559",
                      @"A26235",
                      @"A29297",
                      @"A31158",
                      @"A19055",
                      @"A30435",
                      @"A32415",
                      @"A29635",
                      @"A32760",
                      @"A36981",
                      @"A30436",
                      @"A33059",
                      @"A25735",
                      @"A30455",
                      @"A32541",
                      @"A33481",
                      @"A28855",
                      @"A25795",
                      @"A33079",
                      @"A31215",
                      @"A32701",
                      @"A31255",
                      @"A25878",
                      @"A33383",
                      @"A28815",
                      @"A33821",
                      @"A32805",
                      @"A33763",
                      @"A33591",
                      @"A33584",
                      @"A33482",
                      @"A33559",
                      @"A33420",
                      @"A32879",
                      @"A28335",
                      @"A33419",
                      @"A33340",
                      @"A32654",
                      @"A33561",
                      @"A33803",
                      @"A32759",
                      @"A33699",
                      @"A34080",
                      @"A31155",
                      @"A34151",
                      @"A30878",
                      @"A33660",
                      @"A33586",
                      @"A33819",
                      @"A33764",
                      @"A33519",
                      @"A33948",
                      @"A33762",
                      @"A33805",
                      @"A33583",
                      @"A33022",
                      @"A30336",
                      @"A33719",
                      @"A33720",
                      @"A34083",
                      @"A34150",
                      @"A33721",
                      @"A34204",
                      @"A34086",
                      @"A33949",
                      @"A33661",
                      @"A32841",
                      @"A33861",
                      @"A34087",
                      @"A34085",
                      @"A33922",
                      @"A34542",
                      @"A34599",
                      @"A34145",
                      @"A34146",
                      @"A34300",
                      @"A34279",
                      @"A33761",
                      @"A34600",
                      @"A20755",
                      @"A33579",
                      @"A34199",
                      @"A33585",
                      @"A33722",
                      @"A33945",
                      @"A33740",
                      @"A33560",
                      @"A33804",
                      @"A34147",
                      @"A33479",
                      @"A34805",
                      @"A33824",
                      @"A33593",
                      @"A33879",
                      @"A34202",
                      @"A33500",
                      @"A33823",
                      @"A34082",
                      @"A34081",
                      @"A33700",
                      @"A33581",
                      @"A33379",
                      @"A33759",
                      @"A32699",
                      @"A33643",
                      @"A31159",
                      @"A35682",
                      @"A33592",
                      @"A33822",
                      @"A34379",
                      @"A33946",
                      @"A33642",
                      @"A33919",
                      @"A33860",
                      @"A34200",
                      @"A34882",
                      @"A33480",
                      @"A34205",
                      @"A30555",
                      @"A34763",
                      @"A34084",
                      @"A33799",
                      @"A34887",
                      @"A33483",
                      @"A34804",
                      @"A34439",
                      @"A34761",
                      @"A34828",
                      @"A32440",
                      @"A33950",
                      @"A34764",
                      @"A35202",
                      @"A34866",
                      @"A34865",
                      @"A33582",
                      @"A34301",
                      @"A35458",
                      @"A35324",
                      @"A33382",
                      @"A34559",
                      @"A35204",
                      @"A33947",
                      @"A33562",
                      @"A34721",
                      @"A34881",
                      @"A35325",
                      @"A34928",
                      @"A33499",
                      @"A34863",
                      @"A35428",
                      @"A35384",
                      @"A35426",
                      @"A35425",
                      @"A35201",
                      @"A34765",
                      @"A35524",
                      @"A35042",
                      @"A33800",
                      @"A35543",
                      @"A35803",
                      @"A35582",
                      @"A35804",
                      @"A35722",
                      @"A35641",
                      @"A35041",
                      @"A35848",
                      @"A35542",
                      @"A35701",
                      @"A36066",
                      @"A33880",
                      @"A35846",
                      @"A35541",
                      @"A36063",
                      @"A35681",
                      @"A35427",
                      @"A35802",
                      @"A34985",
                      @"A33806",
                      @"A35849",
                      @"A35603",
                      @"A34148",
                      @"A35203",
                      @"A20376",
                      @"A35429",
                      @"A35521"];
    
}

- (void)loadSHCarShowResource
{
    activityNameArray = @[@"上海车展"];
    cityNameArray = @[@"上海", @"其他"];
    
    userNameArray = @[@"A02033",
                      @"A02155"];
    
}

#pragma mark - check val
- (BOOL)checkVal
{
    if ([nameTxt.text isEqualToString:@""]) {
        [[[UIAlertView alloc] initWithTitle:@"请输入用户名"
                                    message:@""
                                   delegate:nil
                          cancelButtonTitle:@"OK"
                          otherButtonTitles:nil
          ] show];
        
        [nameTxt becomeFirstResponder];
        return NO;
    }
    
    if ([pswdTxt.text isEqualToString:@""]) {
        [[[UIAlertView alloc] initWithTitle:@"请输入密码"
                                    message:@""
                                   delegate:nil
                          cancelButtonTitle:@"OK"
                          otherButtonTitles:nil
          ] show];
        
        [pswdTxt becomeFirstResponder];
        return NO;
    }
    
    if ([cityTxt.text isEqualToString:@""]) {
        [[[UIAlertView alloc] initWithTitle:@"请选择城市"
                                    message:@""
                                   delegate:nil
                          cancelButtonTitle:@"OK"
                          otherButtonTitles:nil
          ] show];
        
        [cityTxt becomeFirstResponder];
        return NO;
    }
    
    return YES;
}

- (BOOL)validate
{
    
    // 项目部分
#if CarShowType == 20
    // 区域车展
    return [self validateAutoShow];
    
#elif CarShowType == 21
    // 上海车展
    return [self validateSHCarShow];
    
#elif CarShowType == 22
    // A级车展
    return [self validateACarShow];
    
#endif
    
    return NO;
}

- (BOOL)validateAutoShow
{
    NSString *userName = [nameTxt.text uppercaseString];
    
    // 管理员
    if ([userName isEqualToString:@"ADMIN"]) {
        
        if ([pswdTxt.text isEqualToString:@"000"]) {
            return YES;
        }
        
        return NO;
    }
    
    // 普通人员
    if ([userNameArray indexOfObject:userName] != NSNotFound && [pswdTxt.text isEqualToString:@"123456"]) {
        return YES;
    }
        
    return NO;
}

- (BOOL)validateACarShow
{
    
    NSString *userName = [nameTxt.text lowercaseString];
    
    // 管理员
    if ([userName isEqualToString:@"admin"]) {
        
        if ([pswdTxt.text isEqualToString:@"000"]) {
            return YES;
        }
        
        return NO;
    }
    
    // 普通人员
    // apg1 - apg20
    if ([userName hasPrefix:@"apg"]) {
        
        NSString *numberStr = [userName componentsSeparatedByString:@"apg"][1];
        
        if(![self filterData:numberStr]) {
            return NO;
        }
        
        NSInteger number = [numberStr integerValue];
        if (number >=1 && number <= 20) {
            
            if ([pswdTxt.text isEqualToString:@"123456"]) {
                return YES;
            }
        }
    }
    
    // bpg1 - bpg20
    if ([userName hasPrefix:@"bpg"]) {
        
        NSString *numberStr = [userName componentsSeparatedByString:@"bpg"][1];
        NSInteger number = [numberStr integerValue];
        
        if (number >=1 && number <= 20) {
            
            if ([pswdTxt.text isEqualToString:@"123456"]) {
                return YES;
            }
        }
    }
    
    return NO;
}

- (BOOL)validateSHCarShow
{
    
    NSString *userName = [nameTxt.text lowercaseString];
    
    // 管理员
    if ([userName isEqualToString:@"admin"]) {
        
        if ([pswdTxt.text isEqualToString:@"000"]) {
            return YES;
        }
        
        return NO;
    }
    
    // 普通人员
    // pg1 - pg30
    if ([userName hasPrefix:@"pg"]) {
        
        NSString *numberStr = [userName componentsSeparatedByString:@"pg"][1];
        
        if(![self filterData:numberStr]) {
            return NO;
        }
        
        NSInteger number = [numberStr integerValue];
        
        if (number >=1 && number <= 30) {
            
            if ([pswdTxt.text isEqualToString:@"123456"]) {
                return YES;
            }
        }
    }
    
    return NO;
}

- (BOOL)filterData:(NSString *)numberStr
{
    if (numberStr.length > 2) {
        return NO;
    } else if (numberStr.length == 2) {
        if ([numberStr integerValue] < 10) {
            return NO;
        }
    } else if (numberStr.length == 1) {
        if ([numberStr integerValue] < 1) {
            return NO;
        }
    } else if (numberStr.length == 0) {
        return NO;
    }
    
    return YES;
}

- (IBAction)doLogin:(id)sender
{
    
    if (![self checkVal]) {
        return;
    }
    
    if (![self validate]) {
        
        [[[UIAlertView alloc] initWithTitle:@"用户名密码错误\n请重新输入"
                                    message:@""
                                   delegate:nil
                          cancelButtonTitle:@"知道了"
                          otherButtonTitles:nil
          ] show];
        
        return;
    }
    
    [self resetUI];
    [self loginSuccess];
    
    [[AppManager instance] saveUserData:nameTxt.text
                               userName:nameTxt.text
                               nickName:pswdTxt.text
                                 city:cityTxt.text
                                  activity:activityTxt.text];
    
    if (![[nameTxt.text lowercaseString] isEqualToString:@"admin"]) {
        
        // 调研问卷
        SurveyViewController *surveyVC = [[SurveyViewController alloc] init];
        //    UINavigationController *surveyNav = [[UINavigationController alloc] initWithRootViewController:surveyVC];
        
        [self.navigationController presentViewController:surveyVC animated:YES completion:^{}];
    } else {
        // 后台
        AdminViewController *adminVC = [[AdminViewController alloc] init];
        //    UINavigationController *surveyNav = [[UINavigationController alloc] initWithRootViewController:surveyVC];
        
        [self.navigationController presentViewController:adminVC animated:YES completion:^{}];
    }

}

#pragma mark - reset
- (IBAction)doReset:(id)sender
{
    cityTxt.text = @"";
    
    nameTxt.text = @"";
    pswdTxt.text = @"";
    
    [[AppManager instance] saveUserData:@""
                               userName:@""
                               nickName:@""
                                 city:@""
                                  activity:activityTxt.text];
}

#pragma mark - check val
- (void)resetUI
{
    pickerBG.hidden = YES;
    activityPicker.hidden = YES;
    cityPicker.hidden = YES;
    
    [nameTxt resignFirstResponder];
    [pswdTxt resignFirstResponder];
}

- (void)loginSuccess
{
    [AppManager instance].status = @"0";
    [AppManager instance].qpg = nameTxt.text;
    [AppManager instance].qeventname = activityTxt.text;
    [AppManager instance].qcity = cityTxt.text;
}

@end
